<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
<title>Libros</title>
</head>
<body>
	<div class="container">
		<h1 class="text-center mb-3 mt-3">Listado de Libros</h1>
		
		<div class="alert alert-success alert-dismissible fade show mt-2 mb-2" role="alert" th:if="${mensaje != null}" th:text="${mensaje}">
			<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
		</div>
		
		<div class="alert alert-danger alert-dismissible fade show mt-2 mb-2" role="alert" th:if="${error != null}" th:text="${error}">
			<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
		</div>
		
		<table class="table table-striped table-responsive-md" border="2">
			<thead>
				<tr>
				    <th>Codigo</th>
				    <th>Titulo</th>
				    <th>Fecha de Publicacion</th>
				    <th>Autor</th>
				    <th>Genero</th>
				    <th>Descripcion</th>
				    <th></th>
	 		 	</tr>
			</thead>
			<tbody>
				<tr th:each="libro : ${libros}">
					<td th:text="${libro.codigo}"></td>
					<td th:text="${libro.titulo}"></td>
					<td th:text="${#dates.format(libro.fecha, 'dd/MM/yyyy')}"></td>
					<td th:text="${libro.autor.nombre}"></td>
					<td th:text="${libro.genero.nombre}"></td>
					<td th:text="${libro.descripcion}"></td>
					<td>
						<a th:href="@{/libros/actualizar/}+${libro.codigo}">seleccionar</a>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
	
</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
</html>